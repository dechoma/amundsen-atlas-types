{
   "structDefs":[
      {
          "name": "StatisticsEntry",
          "attributeDefs": [
              {
                  "name": "stat_name",
                  "typeName": "string",
                  "isOptional": false,
                  "cardinality": "SINGLE",
                  "isUnique": false,
                  "isIndexable": false
              },
              {
                  "name": "stat_val",
                  "typeName": "double",
                  "isOptional": false,
                  "cardinality": "SINGLE",
                  "isUnique": false,
                  "isIndexable": false
              },
              {
                  "name": "start_epoch",
                  "typeName": "date",
                  "isOptional": false,
                  "cardinality": "SINGLE",
                  "isUnique": false,
                  "isIndexable": false
              },
              {
                  "name": "end_epoch",
                  "typeName": "date",
                  "isOptional": false,
                  "cardinality": "SINGLE",
                  "isUnique": false,
                  "isIndexable": false
              }
          ]
      }
   ],
   "entityDefs":[
      {
         "superTypes":[
            "Referenceable"
         ],
         "name":"User",
         "typeVersion":"2.0",
         "description":"The User Entity. Used to make relationship between users and entities."
      },
      {
         "superTypes":[
            "Referenceable"
         ],
         "name":"Reader",
         "description":"The entity reader count. Maps user with the count",
         "typeVersion":"2.0",
         "attributeDefs":[
            {
               "name":"count",
               "isOptional":false,
               "isUnique":false,
               "isIndexable":true,
               "typeName":"int",
               "cardinality":"SINGLE",
               "valuesMinCount":0
            }
         ]
      },
      {
         "superTypes":[
            "Referenceable"
         ],
         "name":"Metadata",
         "description":"The metadata information of the Entity.",
         "typeVersion":"2.0",
         "attributeDefs":[
            {
               "name":"popularityScore",
               "typeName":"float",
               "isOptional":true,
               "cardinality":"SINGLE",
               "isUnique":false,
               "isIndexable":true
            },
            {
             "name": "statistics",
             "typeName": "array<StatisticsEntry>",
             "isOptional": true,
             "cardinality": "LIST",
             "isUnique": false,
             "isIndexable": true,
             "includeInNotification": false
            }
         ]
      }
   ],
   "relationshipDefs":[
      {
         "name":"Reader_Users",
         "typeVersion":"2.0",
         "relationshipCategory":"COMPOSITION",
         "relationshipLabel":"__Reader.Users",
         "endDef1":{
            "type":"Reader",
            "name":"user",
            "isContainer":false,
            "cardinality":"SINGLE",
            "isLegacyAttribute":true
         },
         "endDef2":{
            "type":"User",
            "name":"entityReads",
            "isContainer":true,
            "cardinality":"SET",
            "isLegacyAttribute":true
         },
         "propagateTags":"NONE"
      },
      {
         "name":"Metadata_Reader",
         "typeVersion":"2.0",
         "relationshipCategory":"COMPOSITION",
         "relationshipLabel":"__Metadata.Reader",
         "endDef1":{
            "type":"Metadata",
            "name":"readers",
            "isContainer":true,
            "cardinality":"SET",
            "isLegacyAttribute":false
         },
         "endDef2":{
            "type":"Reader",
            "name":"entityMetadata",
            "isContainer":false,
            "cardinality":"SINGLE",
            "isLegacyAttribute":true
         },
         "propagateTags":"NONE"
      },
      {
         "name":"DataSet_Metadata",
         "typeVersion":"2.0",
         "relationshipCategory":"AGGREGATION",
         "relationshipLabel":"_DataSet.Metadata",
         "endDef1":{
            "type":"DataSet",
            "name":"metadata",
            "isContainer":true,
            "cardinality":"SINGLE",
            "isLegacyAttribute":true
         },
         "endDef2":{
            "type":"Metadata",
            "name":"parentEntity",
            "isContainer":false,
            "cardinality":"SINGLE",
            "isLegacyAttribute":true
         },
         "propagateTags":"NONE"
      }
   ]
}
